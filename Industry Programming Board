{"slots":{"0":{"name":"databank","type":{"events":[],"methods":[]}},"1":{"name":"industry2","type":{"events":[],"methods":[]}},"2":{"name":"industry1","type":{"events":[],"methods":[]}},"3":{"name":"industry3","type":{"events":[],"methods":[]}},"4":{"name":"industry4","type":{"events":[],"methods":[]}},"5":{"name":"industry5","type":{"events":[],"methods":[]}},"6":{"name":"industry6","type":{"events":[],"methods":[]}},"7":{"name":"industry7","type":{"events":[],"methods":[]}},"8":{"name":"industry8","type":{"events":[],"methods":[]}},"9":{"name":"container","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.setTimer(\"Update\",1)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"},{"code":"local Product = \"Medium Anti-Gravity Generators\" --The name of the product you are making\nlocal ProductString = 'MAGG' --This can be any string, as long as it is unique from the other keyboards using this database\nlocal CycleTime = 993600 --The time in seconds it takes this industry to complete 1 cycle\nlocal Mass = 124937.482 --The mass in kilotons of your product.\n\nlocal status = {}\nlocal remaining = {}\nlocal IndustryCount = 0\n\nfunction getstatus(industry, i)\n   status[i] = industry.getStatus() \n   remaining[i] = CycleTime-(industry.getUptime() * industry.getEfficiency() - industry.getCycleCountSinceStartup() * CycleTime) \nend\n\nif industry1 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry1, IndustryCount)\nend\nif industry2 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry2, IndustryCount)\nend\nif industry3 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry3, IndustryCount)\nend\nif industry4 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry4, IndustryCount)\nend\nif industry5 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry5, IndustryCount)\nend\nif industry6 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry6, IndustryCount)\nend\nif industry7 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry7, IndustryCount)\nend\nif industry8 then \nIndustryCount = IndustryCount+1 \ngetstatus(industry8, IndustryCount)\nend\n\nlocal html= '<div style=\"font-size:8vh;\">'..Product..'<br></div>'\n\nfunction appendhtml(status, remaining, number)\n    if status ~= 'RUNNING' then remaining = 0 status = 'STOPPED' else remaining = math.floor(remaining/60/60) end\n    html = html..[[<div style=\"font-size:5vh;text-align:left;\">Industry ]]..number..[[: ]]..status..[[___Remaining Time: ]]..remaining..[[ hours<br>]]\nend\n\nfor i = 1,IndustryCount do\n appendhtml(status[i], remaining[i], i) \nend\n\nhtml = html..[[In Output Container: ]].. math.floor(container.getItemsMass()/Mass+0.5) ..[[</div>]]\n\ndatabank.setStringValue(ProductString,html)","filter":{"args":[{"value":"Update"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"1"}],"methods":[],"events":[]}
